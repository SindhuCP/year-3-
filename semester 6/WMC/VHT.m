% Generated by MATLAB(R) 9.13 (R2022b) and WLAN Toolbox 3.5 (R2022b).
% Generated on: 01-Apr-2024 13:09:23

%% Generating 802.11n/ac (OFDM) waveform
% 802.11n/ac (OFDM) configuration
vhtCfg = wlanVHTConfig('ChannelBandwidth', 'CBW80', ...
    'NumUsers', 1, ...
    'NumTransmitAntennas', 1, ...
    'NumSpaceTimeStreams', 1, ...
    'SpatialMapping', 'Direct', ...
    'STBC', false, ...
    'MCS', 7, ...
    'ChannelCoding', 'BCC', ...
    'APEPLength', 1024, ...
    'GuardInterval', 'Long', ...
    'GroupID', 63, ...
    'PartialAID', 275);

numPackets = 1;
% input bit source:
in = randi([0, 1], 1000, 1);


% Generation
waveform = wlanWaveformGenerator(in, vhtCfg, ...
    'NumPackets', numPackets, ...
    'IdleTime', 0, ...
    'OversamplingFactor', 1, ...
    'ScramblerInitialization', 93, ...
    'WindowTransitionTime', 1e-07);

Fs = wlanSampleRate(vhtCfg, 'OversamplingFactor', 1); 								 % Specify the sample rate of the waveform in Hz

%% Visualize
% Spectrum Analyzer
spectrum = spectrumAnalyzer('SampleRate', Fs);
spectrum(waveform);
release(spectrum);


